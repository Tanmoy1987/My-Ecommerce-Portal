<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" routerLink="/">
          <i class="fa fa-leaf"></i>
      </a>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
             <a class="nav-link" routerLink="/product" routerLinkActive="active">Product</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/shopping-cart" routerLinkActive="active">
              Shopping Cart
              <span class="badge bg-success badge pill">
                {{ cartService.totalQuantity | async }}
              </span>
            </a>
          </li>
        </ul>
        <div class="d-flex me-4">
           <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <ng-template #anonymousblock> 
                <li class="nav-item">
                  <a  class="nav-link" role="button" routerLink="/login">Login</a>
                </li>   
              </ng-template>
              <li *ngIf="user$ | async as user else anonymousblock" ngbDropdown class="nav-item" display="dynamic" placement="bottom-right">
                <a class="nav-link" ngbDropdownToggle id="dropdownToggle" role="button">{{ user?.name }}</a>                    
                <div ngbDropdownMenu class="dropdown-menu" aria-labelledby="dropdownToggle">
                    <button ngbDropdownItem routerLink="/my/orders">My Orders</button>
                    <ng-container *ngIf="user?.isAdmin">
                      <button ngbDropdownItem routerLink="/admin/orders">Manage Orders</button>
                      <button ngbDropdownItem routerLink="/admin/products">Manage Products</button>
                    </ng-container>
                    <button ngbDropdownItem (click)="logout()">Logout</button>
                </div>
               </li> 
           </ul>
        </div>
     </div>
    </div>
</nav>
